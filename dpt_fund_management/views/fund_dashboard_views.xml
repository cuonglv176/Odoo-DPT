<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Dashboard Form View -->
    <record id="view_fund_dashboard_form" model="ir.ui.view">
        <field name="name">dpt.fund.dashboard.form</field>
        <field name="model">dpt.fund.dashboard</field>
        <field name="arch" type="xml">
            <form string="Fund Dashboard">
                <header>
                    <button name="refresh_dashboard" string="Refresh Data" type="object" class="btn-primary"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>

                    <group>
                        <group>
                            <field name="date_from"/>
                            <field name="date_to"/>
                        </group>
                    </group>

                    <!-- Summary Cards -->
                    <div class="row mt16">
                        <div class="col-lg-3 col-6">
                            <div class="card bg-primary text-white">
                                <div class="card-body">
                                    <h4>
                                        <field name="total_balance" widget="monetary"/>
                                    </h4>
                                    <p>Total Balance</p>
                                    <button name="action_view_accounts" string="View Accounts" type="object"
                                            class="btn btn-light btn-sm"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-6">
                            <div class="card bg-success text-white">
                                <div class="card-body">
                                    <h4>
                                        <field name="total_income" widget="monetary"/>
                                    </h4>
                                    <p>Total Income</p>
                                    <button name="action_view_transactions" string="View Transactions" type="object"
                                            class="btn btn-light btn-sm"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-6">
                            <div class="card bg-danger text-white">
                                <div class="card-body">
                                    <h4>
                                        <field name="total_expense" widget="monetary"/>
                                    </h4>
                                    <p>Total Expense</p>
                                    <button name="action_view_transactions" string="View Transactions" type="object"
                                            class="btn btn-light btn-sm"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-6">
                            <div class="card bg-info text-white">
                                <div class="card-body">
                                    <h4>
                                        <field name="net_profit" widget="monetary"/>
                                    </h4>
                                    <p>Net Profit</p>
                                    <span class="badge badge-light">
                                        <field name="roi_percentage"/>% ROI
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="row mt16">
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h3 class="text-primary"><field name="roi_percentage"/>%
                                    </h3>
                                    <p class="text-muted">ROI Percentage</p>
                                    <div class="progress">
                                        <div class="progress-bar bg-primary" role="progressbar"
                                             style="width: 50%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h3 class="text-success">
                                        <field name="liquidity_ratio"/>
                                    </h3>
                                    <p class="text-muted">Liquidity Ratio</p>
                                    <small class="text-muted">Target: &gt; 2.0</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h3 class="text-warning"><field name="diversification_score"/>%
                                    </h3>
                                    <p class="text-muted">Diversification Score</p>
                                    <small class="text-muted">Portfolio spread</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Alerts Section -->
                    <div class="row mt16">
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>
                                        <i class="fa fa-bell"></i>
                                        Alerts &amp; Notifications
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="alert alert-info"
                                         invisible="pending_transfers == 0">
                                        <strong>Pending Transfers:</strong>
                                        You have
                                        <field name="pending_transfers"/>
                                        transfers waiting for approval.
                                        <button name="action_view_transfers" string="Review" type="object"
                                                class="btn btn-sm btn-outline-primary ml-2"/>
                                    </div>
                                    <div class="alert alert-warning"
                                         invisible="liquidity_ratio >= 2">
                                        <strong>Low Liquidity:</strong>
                                        Your liquidity ratio is below the recommended threshold of 2.0
                                    </div>
                                    <div class="alert alert-success"
                                          invisible="pending_transfers > 0 and liquidity_ratio < 2">
                                        <strong>All Good:</strong>
                                        No alerts at this time. Your fund management is on track!
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="row mt16">
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>
                                        <i class="fa fa-bolt"/>
                                        Quick Actions
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="btn-group" role="group">
                                        <button name="action_new_account" string="New Account" type="object"
                                                class="btn btn-primary"/>
                                        <button name="action_new_transaction" string="New Transaction" type="object"
                                                class="btn btn-success"/>
                                        <button name="action_new_transfer" string="New Transfer" type="object"
                                                class="btn btn-info"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </sheet>
            </form>
        </field>
    </record>

    <!-- Dashboard List View -->
    <record id="view_fund_dashboard_tree" model="ir.ui.view">
        <field name="name">fund.dashboard.tree</field>
        <field name="model">dpt.fund.dashboard</field>
        <field name="arch" type="xml">
            <tree string="Fund Dashboards">
                <field name="name"/>
                <field name="date_from"/>
                <field name="date_to"/>
                <field name="total_balance" widget="monetary"/>
                <field name="net_profit" widget="monetary"/>
                <field name="roi_percentage"/>
            </tree>
        </field>
    </record>

    <!-- Dashboard Action -->
    <record id="action_fund_dashboard" model="ir.actions.act_window">
        <field name="name">Fund Dashboard</field>
        <field name="res_model">dpt.fund.dashboard</field>
        <field name="view_mode">form,tree</field>
        <field name="target">current</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Welcome to Fund Management Dashboard!
            </p>
            <p>
                Get insights into your fund performance, track transactions, and monitor key metrics.
            </p>
        </field>
    </record>


</odoo>
