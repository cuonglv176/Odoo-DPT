<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!-- Kế thừa quy tắc bảo mật từ module project -->
        <record id="project_task_report_rule_portal" model="ir.rule">
            <field name="name">Portal User: access only the project task reports related to followed project</field>
            <field name="model_id" ref="project.model_project_task"/>
            <field name="domain_force">[
                '|',
                    ('project_id', '=', False),
                    ('project_id', 'in', user.partner_id.project_ids.ids)
            ]</field>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
        </record>
    </data>
</odoo> 